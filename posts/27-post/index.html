<!DOCTYPE html>
<html class="dark light">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    

    
    
    
    <title>
         27. Stateful vs Stateless Architecture
        
    </title>

        
            <meta property="og:title" content="27. Stateful vs Stateless Architecture" />
        
     

     
         
     

     
         
    

    
    <link rel="icon" type="image/png" href=&#x2F;icons&#x2F;icon.png />

    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=IBM+Plex+Mono:wght@300;400;500;600&display=swap" rel="stylesheet">

    
    
        <link href=https://harsh-doshii.github.io/fonts.css rel="stylesheet" />
    

    
    


    

    
    <link rel="alternate" type="application/atom+xml" title="doshi&#x27;s scratchpad" href="https://harsh-doshii.github.io/atom.xml">


    
    
        <link rel="stylesheet" type="text/css" href=https://harsh-doshii.github.io/theme/light.css />
        <link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://harsh-doshii.github.io/theme/dark.css" />
    

    <link rel="stylesheet" type="text/css" media="screen" href=https://harsh-doshii.github.io/main.css />

    

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-170818569-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-170818569-1');
    </script>

    <script async src="https://us.umami.is/script.js" data-website-id="2b0e0e64-98d6-464b-8574-2cb94d848738"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"
        onload="renderMathInElement(document.body);"></script>
</head>

<body>
    <div class="content">
        <header>
    <div class="main">
        <a href=https:&#x2F;&#x2F;harsh-doshii.github.io&#x2F;>doshi&#x27;s scratchpad</a>

        <div class="socials">
            
            <a rel="me" href="https:&#x2F;&#x2F;discuss.systems&#x2F;@hdoshi" class="social">
                <img alt=mastodon src="/social_icons/mastodon.svg">
            </a>
            
            <a rel="me" href="https:&#x2F;&#x2F;www.linkedin.com&#x2F;in&#x2F;harsh-doshi16&#x2F;" class="social">
                <img alt=linkedin src="/social_icons/linkedin.svg">
            </a>
            
            <a rel="me" href="https:&#x2F;&#x2F;github.com&#x2F;harsh-doshii" class="social">
                <img alt=github src="/social_icons/github.svg">
            </a>
            
        </div>
    </div>

    <nav>
        
        <a href=&#x2F;posts style="margin-left: 0.7em">&#x2F;posts</a>
        
        <a href=&#x2F;about style="margin-left: 0.7em">&#x2F;about</a>
        
        <a href=&#x2F;people style="margin-left: 0.7em">&#x2F;people</a>
        
        <a href=&#x2F;recommendations style="margin-left: 0.7em">&#x2F;recommendations</a>
        

        
        | <a id="dark-mode-toggle" onclick="toggleTheme()" href="javascript:void(0)">
            <img src="/feather/sun.svg" id="sun-icon" style="filter: invert(1);" />
            <img src="/feather/moon.svg" id="moon-icon" />
        </a>
        <script src=https://harsh-doshii.github.io/js/themetoggle.js></script>
        
    </nav>
</header>


        
        
    
<main>
    <article>
        <div class="title">
            
            
    <div class="page-header">
        27. Stateful vs Stateless Architecture<span class="primary-color" style="font-size: 1.6em">.</span>
    </div>


                <div class="meta">
                    
                        Posted on <time>2023-11-26</time>
                    

                    
                </div>
        </div>

        

        
        
            
        

        <section class="body">
            <p>Let's start with taking the example of accessing an ecommerce website.</p>
<p>When the user types in the URL, it goes to DNS and then the Web Tier (web servers) and then to the Comapny's Database for resources.</p>
<p>User --&gt; Web Tier --&gt; DB Tier</p>
<p>Let's say there are multiple users trying to access the website. All these users will not necessarily hit the same server right? The servers are distributed. Let's take this case:</p>
<p>User A --&gt; Server A ----&gt; DB</p>
<p>User B --&gt; Server B ----&gt; DB</p>
<p>User C --&gt; Server C ----&gt; DB</p>
<p>(DB is the same in all cases)</p>
<p>Now in the case of a stateful architecture: User data is stored in the server. This user data (state) maybe things like profile data, session data, etc. State of the user is stored in the server and not the DB.</p>
<p>Now let's say ther Server A goes down. Now User A will have to connect to Server B or C, which can be easily done, but all the progress will be lost! User A will have to login again, add products to cart again and so on. This is a fundamental problem with stateful architecture. 
So there is availibilty issue and scalability is a concern.
We can't scale horizontally, because even if we add more physical servers, the state will still be in just one server, so it is no point. </p>
<p>Now in Stateless architecture, we don't mantain the state of a user in any server, we save it in a shared storage like cache or database. </p>
<p>User A, B, C --&gt; Load Balancer --&gt; Web Servers --&gt; Cache/DB</p>
<p>The state of users is stored in Cache/DB. </p>
<p>It's important to know that Microservices (which are mostly containerised) are always stateless in nature. You can't containerize stateful applications. Statelessness is about a self-contained state and reference instead of depending on an external frame of reference. In recent times Stateless architecture has become so good that it closely mirrors stateful architecture.</p>
<p>Stateful applications are typically databases;</p>
<p>Knowledge credits: <a href="https://www.youtube.com/watch?v=P8D6P-6KVNM">Cloud Advocate</a></p>

        </section>

        

    </article>
</main>


    </div>
</body>

</html>